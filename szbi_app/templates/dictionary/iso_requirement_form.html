{% extends 'base.html' %}

{% block title %}{{ title }} - SZBI{% endblock %}

{% block content %}
<h2>{{ title }}</h2>

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    <table>
        <tr>
            <td><label for="id_objective"><strong>Cel wymagaÅ„:</strong></label></td>
            <td>
                {{ form.objective }}
                {% if form.objective.errors %}
                    <br><span style="color:red;">{{ form.objective.errors.0 }}</span>
                {% endif %}
            </td>
        </tr>
        <tr>
            <td><label for="id_iso_id"><strong>ID wymagania: *</strong></label></td>
            <td>
                {{ form.iso_id }}
                {% if form.iso_id.errors %}
                    <br><span style="color:red;">{{ form.iso_id.errors.0 }}</span>
                {% endif %}
                <br><small>{{ form.iso_id.help_text }}</small>
            </td>
        </tr>
        <tr>
            <td><label for="id_name"><strong>Nazwa wymagania: *</strong></label></td>
            <td>
                {{ form.name }}
                {% if form.name.errors %}
                    <br><span style="color:red;">{{ form.name.errors.0 }}</span>
                {% endif %}
            </td>
        </tr>
        <tr>
            <td><label for="id_description"><strong>Opis wymagania:</strong></label></td>
            <td>
                {{ form.description }}
                {% if form.description.errors %}
                    <br><span style="color:red;">{{ form.description.errors.0 }}</span>
                {% endif %}
            </td>
        </tr>
        <tr>
            <td><label for="id_is_applied"><strong>Czy stosujemy? *</strong></label></td>
            <td>
                {{ form.is_applied }}
                {% if form.is_applied.errors %}
                    <br><span style="color:red;">{{ form.is_applied.errors.0 }}</span>
                {% endif %}
            </td>
        </tr>
        <tr>
            <td><label for="id_implementation_method"><strong>SposÃ³b realizacji:</strong></label></td>
            <td>
                {{ form.implementation_method }}
                {% if form.implementation_method.errors %}
                    <br><span style="color:red;">{{ form.implementation_method.errors.0 }}</span>
                {% endif %}
                <br><small>{{ form.implementation_method.help_text }}</small>
            </td>
        </tr>
        <tr>
            <td><label for="id_notes"><strong>Uwagi:</strong></label></td>
            <td>
                {{ form.notes }}
                {% if form.notes.errors %}
                    <br><span style="color:red;">{{ form.notes.errors.0 }}</span>
                {% endif %}
            </td>
        </tr>
    </table>
    
    {% if not is_edit and attachment_form %}
    <hr>
    <h3>ðŸ“Ž ZaÅ‚Ä…cznik (opcjonalnie)</h3>
    <table>
        <tr>
            <td><label for="id_title"><strong>TytuÅ‚ pliku:</strong></label></td>
            <td>
                {{ attachment_form.title }}
                {% if attachment_form.title.errors %}
                    <br><span style="color:red;">{{ attachment_form.title.errors.0 }}</span>
                {% endif %}
            </td>
        </tr>
        <tr>
            <td><label for="id_file"><strong>Plik:</strong></label></td>
            <td>
                {{ attachment_form.file }}
                {% if attachment_form.file.errors %}
                    <br><span style="color:red;">{{ attachment_form.file.errors.0 }}</span>
                {% endif %}
            </td>
        </tr>
    </table>
    {% endif %}
    
    <p>
        <button type="submit">{% if is_edit %}Zapisz zmiany{% else %}Dodaj wymaganie{% endif %}</button>
        <a href="{% url 'dictionary:iso_tree' %}">Anuluj</a>
    </p>
</form>

{% endblock %}
